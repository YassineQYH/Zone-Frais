{% extends 'base.html.twig' %}

{% block title %}Inscription : SY-Shop{% endblock %}

{% form_theme form 'form/formRegister.html.twig' %}

{% block content %}
    <h1 style="text-align:center">Inscription</h1>

    {% if notification %}
        <div class="alert alert-info">{{ notification }}</div>
        <hr>
    {% endif %}


<div class="block-small" >

        {{ form_start(form) }}
        {{ form_row(form.firstname) }}
        {{ form_row(form.lastname) }}
        {{ form_row(form.email) }}
        {{ form_row(form.password) }}
        <span class="show-password" style="margin-top: -128px!important;">Afficher</span>
        <span class="show-password-retype" style="margin-top: -43px!important;margin-right:300px!important;">Afficher</span>

        {{ form_row(form.submit) }}
        {{ form_end(form) }} 

</div>

{% endblock %}

{# VERSION 4 #}
{% block javascripts %}
    <script> 
     $(document).ready(function(){
            $('.show-password,.show-password-retype').click(function() {
                var clickedbtn=(event.target.className);
                var classe=null;
                var classe =(clickedbtn === "show-password") ? classe="#register_password_first" : classe="#register_password_second" ;

            if($(this).text() == 'cacher')
            {
                $(this).text("afficher").add($(classe).attr('type', 'password'));
            }
            else
            {
                $(this).text("cacher").add($(classe).attr('type', 'text'));
            }
        });
        });
    </script>
{% endblock %}

{# ################################################################################################################# #}
{# VERSION 3 #}
    {# <script> 
     $(document).ready(function(){
             $('.show-password,.show-password-retype').click(function() {
                 var clickedbtn=(event.target.className);
                 var classe=null;
                 if(clickedbtn === "show-password"){
                     var classe="#register_password_first"
                 }else{
                     var classe="#register_password_second"
                 }

                if($(this).text() == 'cacher')
                {
                    $(this).text('Cacher');
                    $(classe).attr('type', 'password');
                }
                else
                {
                    $(this).text('cacher');
                    $(classe).attr('type', 'text');
                }
            });
        });
    </script> #}

{# ################################################################################################################# #}
{# VERSION 2 #}
	{# <script> 
        $(document).ready(function(){
            
            $('.show-password').on('click', function() {
                if($(this).text() == 'Show')
                {
                    $(this).text('Hide');
                    $('#register_password_first').attr('type', 'text');
                }
                else
                {
                    $(this).text('Show');
                    $('#register_password_first').attr('type', 'password');
                }
            });

            $('.show-password-retype').on('click', function() {
                if($(this).text() == 'Show')
                {
                    $(this).text('Hide');
                    $('#register_password_second').attr('type', 'text');
                }
                else
                {
                    $(this).text('Show');
                    $('#register_password_second').attr('type', 'password');
                }
            });

        });
	</script> #}

{# ################################################################################################################# #}
{# VERSION 1 #}

    {# {% block javascript %}
        <script type="text/javascript" src="{{ asset('assets/js/show-pwd-register.js') }}"></script>
    {% endblock %} #}


{# {% block javascripts %}
    <script>
$(document).ready(function(){
    var showBtn = document.createElement('span');
    showBtn.innerText = 'Afficher';
    showBtn.classList.add('show-password');

    var showBtn2 = document.createElement('span');
    showBtn2.innerText = 'Afficher';
    showBtn2.classList.add('show-password');
    
    var inputPassword = document.querySelector('#register_password_first');
    var inputPassword2 = document.querySelector('#register_password_second');
    inputPassword.after(showBtn);
    inputPassword2.after(showBtn2);

    $('.show-password').click(function() {
        if($(this).prev('input').prop('type') == 'password') {
            //Si c'est un input type password
            $(this).prev('input').prop('type','text');
            $(this).text('cacher');
        } else {
            //Sinon
            $(this).prev('input').prop('type','password');
            $(this).text('afficher');
        }
    });

});
    </script>
{% endblock %} #}